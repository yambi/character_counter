<!DOCTYPE html>
<html lang="jp">
<head>
<meta charset="utf-8">
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="application/javascript">
//<![CDATA[
$(function(){
    function update(){
        var s = $('textarea').val();
        $('.char-count').html(s.length);
        $('.char-line-count').html(s.replace(/[\n\r]/g,"").length);
        $('.char-space-count').html(s.replace(/[\s　]/g,"").length);
        $('.word-count').html((s.match(/[\w,.'-=~\"]+/g) || []).length);
        $('.line-count').html((s.match(/(\r\n|\r|\n)/g)||[]).length+(s.match(/[^\r\n]+$/)?1:0));
    }
    $('textarea').on('paste cut keydown keyup keypress change',function(){
        update();
        setTimeout(function(){update();},100);//for paste and cut
        console.log("update");
    });
});
//]]>
</script>
<title>文字数カウンタ</title></head>
<body style="background-color:#FFEDD6;">
<h1>文字数カウンタ</h1>
<p style="width:68%;float:left;padding-left:10px;">
<textarea name="textarea" rows="30" cols="100" style="width:100%;font-size:1.5em;background-color:#F8F8F8;"></textarea>
</p>
<p style="width:29%;float:right;line-height:20pt;">
<span class="char-count">0</span>文字<br>
<span class="char-line-count">0</span>文字 (改行なし)<br>
<span class="char-space-count">0</span>文字 (空白文字なし)<br>
<!-- <span class="word-count">0</span>単語<br> -->
<span class="line-count">0</span>行<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ffedd6 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:234px;height:60px;padding-top:20px;"
     data-ad-client="ca-pub-5111390744894002"
     data-ad-slot="6538884569"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
</body>
</html>
