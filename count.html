<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="application/javascript">
//<![CDATA[
$(function(){
    function update(){
        var s = $('textarea').val();
        $('.char-count').html(s.length);
        $('.char-line-count').html(s.replace(/[\n\r]/g,"").length);
        $('.char-space-count').html(s.replace(/[\sã€€]/g,"").length);
        $('.word-count').html((s.match(/[\w,.'-=~\"]+/g) || []).length);
        $('.line-count').html((s.match(/(\r\n|\r|\n)/g)||[]).length+(s.match(/[^\r\n]+$/)?1:0));
    }

    $('textarea').on('paste cut keydown keyup keypress change',function(){
        update();
        setTimeout(function(){update();},100);//for paste and cut
        console.log("update");
    });
});
//]]>
</script>
<title>Character Counter</title></head>
<body style="background-color:#FFEDD6;">
<h1> Character Counter</h1>
<p style="width:68%;float:left;">
<textarea name="textarea" rows="30" cols="100" style="width:100%"></textarea>
</p>
<p style="width:29%;float:right;line-height:20pt;">
<span class="char-count">0</span> characters<br>
<span class="char-line-count">0</span> characters (without linefeeds)<br>
<span class="char-space-count">0</span> characters (without whitespaces)<br>
<span class="word-count">0</span> words<br>
<span class="line-count">0</span> lines
<p>

</body>
</html>
